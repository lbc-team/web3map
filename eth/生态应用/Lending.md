# 去中心化借贷 (Lending)

## 概念简介

去中心化借贷（Decentralized Lending）是 DeFi 生态系统中的核心支柱之一，它允许用户在不需要银行或信用审查机构等中介的情况下，通过智能合约进行资产的存入（借出）和借取。

与传统金融基于信用（Credit-based）的借贷不同，目前的去中心化借贷主要基于**超额抵押**（Over-collateralization）。这种模式使得借贷完全无需许可（Permissionless）和去信任（Trustless），任何人都可以在全球任何地方随时参与。

## 核心机制与原理

### 1. 资金池模式 (Pool-based)
最早的点对点（P2P）撮合模式（如 ETHLend 早期）存在流动性效率低、等待时间长的问题。Aave 和 Compound 引入了**点对池**（Peer-to-Pool）模式：
- **存款人**：将资产存入共享的流动性池，获得代表存款份额的凭证代币（如 cToken, aToken）。利息由借款人支付，按份额分配给存款人。
- **借款人**：直接从资金池中借款，利率由算法根据池子的资金利用率实时决定。

### 2. 超额抵押 (Over-collateralization)
为了在没有信用评分的情况下保证资金安全，借款人必须提供价值高于借款金额的资产作为抵押。
- **抵押因子 (Loan-to-Value, LTV)**：例如，ETH 的 LTV 为 80%，意味着存入价值 \$100 的 ETH，最多只能借出 \$80 的 USDC。
- **清算阈值**：如果抵押品价格下跌，导致债务价值逼近或超过抵押品价值的安全线，协议会允许第三方（清算人）偿还债务并以折扣价没收借款人的抵押品。

### 3. 利率模型 (Interest Rate Model)
利率不是由中央机构设定，而是由智能合约算法根据**资金利用率**（Utilization Rate）动态调整。
- **利用率低**（资金充裕）：借款利率低，鼓励借款。
- **利用率高**（资金紧缺）：借款利率指数级上升，抑制借款并激励还款/存款。

### 4. 闪电贷 (Flash Loans)
Aave 首创的 DeFi 原生功能，允许开发者在一个区块的一笔交易内借出无需抵押的巨额资金，前提是必须在同一笔交易结束前归还本金加利息。如果未归还，整笔交易回滚，就像从未发生过一样。这常用于套利、清算和资产重组。

## 代表性协议

- **Aave**：目前 TVL 最大的借贷协议，支持多链，提供闪电贷、信用委托等高级功能。
- **Compound**：借贷挖矿的开创者，V3 版本引入了单一借贷资产模型（Comet）以降低风险。
- **MakerDAO**：虽然主要是稳定币协议，但其 Vaults 本质上是抵押借贷（CDP），借出的资产是新铸造的 DAI。
- **Morpho / Spark**：新一代优化器或分叉协议，旨在提高资本效率或服务特定生态。

## 主要特点

- **即时结算**：没有繁琐的审批流程，几秒钟内完成借贷。
- **被动收入**：存款人可以利用闲置资产赚取利息。
- **杠杆交易**：通过循环借贷（存款 -> 借款 -> 再存款），用户可以做多或做空特定资产。
- **透明性**：所有资金流向、清算记录和利率变化均在链上可查。

## 风险

- **清算风险**：市场剧烈波动时，抵押品可能被强行平仓，导致本金损失。
- **智能合约风险**：代码漏洞可能导致资金池被黑客盗取。
- **预言机风险**：如果喂价机制被操纵，可能导致错误的清算或坏账。

## 相关概念

- **TVL (Total Value Locked)**：锁仓总价值。
- **APY (Annual Percentage Yield)**：年化收益率（含复利）。
- **Health Factor (健康因子)**：衡量债务仓位安全程度的指标，通常 < 1 会触发清算。

## 推荐阅读

- [Aave Protocol Whitepaper](https://github.com/aave/aave-protocol/blob/master/docs/Aave_Protocol_Whitepaper_v1_0.pdf)
- [Compound Whitepaper](https://compound.finance/documents/Compound.Whitepaper.pdf)
