## ERC-6551: 非同质化代币绑定账户 (TBA)

ERC-6551 是一个为每个 ERC-721 NFT 创建[智能合约](https://learnblockchain.cn/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6)账户的标准，使 NFT 能够拥有资产并与应用交互。这些账户被称为“代币绑定[账户](https://learnblockchain.cn/tags/账户?map=EVM)”（Token Bound Accounts, TBA）。

### 解决的问题
传统的 NFT 只是静态的数字资产，只能被拥有和转移。它们不能拥有其他代币（如 ETH 或其他 NFT），也不能直接与 [DApp](https://learnblockchain.cn/tags/DApp) 交互。如果想要给一个 NFT “空投”资产，通常只能空投给持有该 NFT 的地址，而不是 NFT 本身。ERC-6551 改变了这一点，赋予了 NFT 完整的“[账户](https://learnblockchain.cn/tags/账户?map=EVM)”能力，使其成为链上身份的真正载体。

### 实现机制与原理
ERC-6551 不修改现有的 [ERC-721](https://learnblockchain.cn/tags/ERC721?map=EVM) 标准，而是通过一个无许可的**注册中心 (Registry)** 来部署 TBA。
1.  **Registry:** 一个工厂合约，用于为任何 NFT 部署 TBA。
2.  **确定性地址:** 使用 `CREATE2` 操作码，TBA 的地址由 `Registry地址`、`ERC-721合约地址`、`Token ID`、`Chain ID` 和 `Salt` 决定。这意味着在实际部署合约之前，我们就可以知道某个 NFT 对应的 TBA 地址。
3.  **控制权:** TBA 是一个[智能合约](https://learnblockchain.cn/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6)[钱包](https://learnblockchain.cn/tags/%E9%92%B1%E5%8C%85)，其控制权完全归属于该 NFT 的当前持有者。当 NFT 被转移时，TBA 的控制权也随之转移给新的持有者。
4.  **实现合约 (Implementation):** 定义了 TBA 的具体功能（如执行交易、接收资产）。

### 主要特点
*   **向后兼容:** 适用于所有现有的 [ERC-721](https://learnblockchain.cn/tags/ERC721?map=EVM) NFT，无需升级原合约。
*   **资产组合:** NFT 可以作为一个“背包”，里面装有 ETH、[ERC-20](https://learnblockchain.cn/tags/ERC20?map=EVM) 代币甚至其他 NFT。打包出售变得非常简单。
*   **链上身份:** NFT 可以积累交易记录、声誉和社交图谱。
*   **多链支持:** 可以在所有 [EVM](https://learnblockchain.cn/tags/EVM?map=EVM) 兼容链上部署。

### 常见应用场景
*   **游戏角色 (GameFi):** 一个 NFT 角色可以拥有自己的装备（也是 NFT）和游戏代币，交易角色时连同装备一起转移。
*   **DAO 成员资格:** 基于 [NFT](https://learnblockchain.cn/tags/NFT) 的 DAO 成员资格可以积累投票历史和贡献证明。
*   **社交图谱:** Lens Protocol 等社交 [NFT](https://learnblockchain.cn/tags/NFT) 可以拥有其发布的内容和关注关系。

### 推荐阅读
*   [EIP-6551 Standard](https://learnblockchain.cn/docs/eips/EIPS/eip-6551)
*   [Tokenbound Accounts](https://tokenbound.org/)
