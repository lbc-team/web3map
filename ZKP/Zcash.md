# Zcash

Zcash (ZEC) 是首个广泛应用 zk-SNARKs（零知识简洁非交互式知识论证）技术的加密货币，于 2016 年推出。它基于比特币的代码库构建，但在其基础上增加了加密层，允许用户在完全透明的公开交易和完全保密的屏蔽交易之间自由选择。

## 要解决的问题

Zcash 的诞生源于对比特币隐私保护能力的改进需求。在商业应用和个人财务管理中，完全公开的账本（如比特币）虽然透明，但也暴露了过多的敏感信息。Zcash 试图在**监管合规**（需要审计时可披露）和**极致隐私**（无需披露时完全保密）之间找到平衡点。

## 实现机制与原理

Zcash 的核心是 zk-SNARKs 协议，它允许网络节点验证交易的有效性（资金未被双花、输入等于输出），而无需知道交易金额、发送者或接收者。

### 两种地址类型
Zcash 提供了独特的双地址体系：
1.  **t-addr (透明地址)**：以 `t` 开头，功能与比特币地址完全相同，交易细节公开可见。
2.  **z-addr (屏蔽地址)**：以 `z` 开头，支持隐私交易。

### 四种交易类型
基于这两种地址，Zcash 支持四种交易模式：
*   **公开交易 (t-to-t)**：类似比特币，无隐私。
*   **屏蔽 (t-to-z)**：资金从透明地址转入屏蔽池，切断资金链路。
*   **去屏蔽 (z-to-t)**：资金从屏蔽池转出到透明地址。
*   **完全屏蔽 (z-to-z)**：发送方、接收方和金额均在区块链上加密，只有拥有查看密钥（Viewing Key）的人可见。

### 协议升级历程
Zcash 的零知识证明技术经历了多次重大迭代：
*   **Sprout (2016)**：最初的版本，生成证明极其缓慢且需要大量的内存，需要可信设置（Trusted Setup）。
*   **Sapling (2018)**：革命性的升级，将证明生成时间从几分钟缩短到几秒钟，大幅降低了内存需求，使得移动设备钱包支持屏蔽交易成为可能。
*   **Orchard (2022)**：作为 NU5 升级的一部分，引入了 Halo 2 证明系统，消除了对可信设置的依赖（Trustless），进一步增强了安全性和可扩展性。

### 可选披露
Zcash 的一个关键特性是**查看密钥 (Viewing Keys)** 和 **支付披露 (Payment Disclosure)**。用户可以主动分享特定的交易细节给第三方（如审计员、税务机构），以证明合规性，而不会公开整个钱包的历史。

## 主要特点

*   **科学严谨性**：Zcash 由顶尖的密码学家团队（包括 ZKP 的发明者之一）开发，致力于将最新的学术成果转化为工程实践。
*   **选择性隐私**：用户拥有对自己数据的控制权，可以选择何时保护隐私，何时公开透明。
*   **加密备忘录字段 (Encrypted Memo Field)**：屏蔽交易中包含一个加密的备注字段，允许发送者在转账时安全地附加消息（如发票号、私人信件），这符合银行业标准（ISO 20022）。

## 推荐阅读

*   [Zcash Protocol Specification](https://zips.z.cash/protocol/protocol.pdf)
*   [Halo 2: Zero-Knowledge Proofs without Trusted Setups](https://electriccoin.co/blog/halo-massively-scalable-cryptocurrency/)
*   [Anatomy of a Zcash Transaction](https://z.cash/technology/)

## 相关概念

*   **zk-SNARKs**
*   **Halo 2**
*   **Trusted Setup (可信设置)**
*   **Equihash (挖矿算法)**
